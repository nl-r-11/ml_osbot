import gymnasium as gym
from gymnasium import spaces

class FishingEnv(gym.Env):
    def __init__(self):
        self.action_space = spaces.Discrete(5)
        # inventory, at_spot, at_bank, is_animating
        self.observation_space = spaces.Box(low=0, high=28, shape=(4,), dtype=int)
        self.reset()

def reset(self, seed=None):
    self.inventory = random.randint(0, 10)
    self.at_spot = random.choice([0, 1])
    self.at_bank = 1 - self.at_spot
    self.is_animating = 0
    return self._obs(), {}

    def _obs(self):
        return [self.inventory, self.at_spot, self.at_bank, self.is_animating]

    def step(self, action):
        reward = 0

        # 0 = FISH
        if action == 0:
            if self.at_spot and self.inventory < 28:
                self.inventory += 1
                reward = +1
            else:
                reward = -1  # useless

        # 1 = WALK_TO_BANK
        elif action == 1:
            if not self.at_bank:
                self.at_bank = 1
                self.at_spot = 0
                reward = +0.2
            else:
                reward = -0.5

        # 2 = DEPOSIT
        elif action == 2:
            if self.at_bank and self.inventory > 0:
                reward = self.inventory * 0.5
                self.inventory = 0
            else:
                reward = -1

        # 3 = WALK_TO_FISH
        elif action == 3:
            if not self.at_spot:
                self.at_spot = 1
                self.at_bank = 0
                reward = +0.2
            else:
                reward = -0.5

        # 4 = IDLE
        elif action == 4:
            reward = -0.2

        return self._obs(), reward, False, False, {}



notes: we want to normalize the low high bounds so all state falls within 0.0 - 1.0 range